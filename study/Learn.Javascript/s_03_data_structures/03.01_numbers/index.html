<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <script src="../../utils/utils.js"></script>
  <script src="code.js"></script>
</head>

<body>

<section>
  <h1>Input two numbers and output their sum</h1>
  <button id="twoNumbersSum">Task</button>
  <br>
  <hr>
</section>

<section>
  <h1>The decimal part of a number</h1>
  <button id="decimalPart">Task</button>
  <br>
  <hr>
</section>

<section>
  <h1>Binet formula for the Fibonacci numbers</h1>
  <button id="binetFormula">Task</button>
  <br>
  <label for="fibSimpleResult">Fibonacci simple result</label>
  <br><input id="fibSimpleResult">
  <br>
  <label for="fibBinetResult">Fibonacci Binet result</label>
  <br><input id="fibBinetResult">
  <br>
  <label for="fibDiff">Fibonacci results difference</label>
  <br><input id="fibDiff">
  <br>
  <hr>
</section>

<section>
  <h1>A random number in the range [0, max)</h1>
  <button id="randomNum1">Task</button>
  <br>
  <hr>
</section>

<section>
  <h1>A random number in the range [min, max)</h1>
  <button id="randomNum2">Task</button>
  <br>
  <hr>
</section>

<section>
  <h1>A random integer number in the range [min, max]</h1>
  <button id="randomNum3">Task</button>
  <br>
  <hr>
</section>


<script>

    document.getElementById("twoNumbersSum").onclick = function () {
        var first = inputUntilNumber("Input first number");
        var second = inputUntilNumber("Input second number");
        alert(first + second);
    };

    document.getElementById("decimalPart").onclick = function () {
        var input = inputUntilNumber("Input any number, preferably with a decimal part", 1.1);
        /** {number} */
        alert(fractionalPart(input));
    };

    document.getElementById("binetFormula").onclick = function () {
        var number = inputUntilNumber("Input a number for the Fibonacci calculations");
        var fibSimpleValue = fibSimple(number);
        document.getElementById("fibSimpleResult").setAttribute("value", fibSimpleValue);
        var fibBinetValue = fibBinet(number);
        document.getElementById("fibBinetResult").setAttribute("value", fibBinetValue);
        document.getElementById("fibDiff").setAttribute("value", fibSimpleValue - fibBinetValue);
    };

    document.getElementById("randomNum1").onclick = function () {
        var max = inputUntilNumberWithConditions(
            "Input a max number for generating a random number in [0, max)",
            0, null, false, 0);
        var count = inputUntilNumberWithConditions(
            "Input the length of an array for generating random numbers",
            0, null, true, 1);
        var rndArray = [];
        for (var i = 0; i < count; i++) {
            rndArray.push(Math.random() * max);
        }
        alert("An array of " + count + " random numbers in the range [0, " + max + "):\n"
            + rndArray.join("\n"));
    };

    document.getElementById("randomNum2").onclick = function () {
        var min = inputUntilNumberWithConditions(
            "Input a min number for generating a random number in [min, max)",
            null, null, false, 0);
        var max = inputUntilNumberWithConditions(
            "Input a max number for generating a random number in [min, max)",
            min, null, false, min + 0.1);
        var count = inputUntilNumberWithConditions(
            "Input the length of an array for generating random numbers",
            0, null, true, 1);
        var rndArray = [];
        for (var i = 0; i < count; i++) {
            rndArray.push(min + Math.random() * (max - min));
        }
        alert("An array of " + count + " random numbers in the range [" + min + ", " + max + "):\n"
            + rndArray.join("\n"));
    };

    document.getElementById("randomNum3").onclick = function () {
        var min = inputUntilNumberWithConditions(
            "Input a min integer number for generating a random number in [min, max]",
            null, null, true, 0);
        var max = inputUntilNumberWithConditions(
            "Input a max integer number for generating a random number in [min, max]",
            min, null, true, min + 1);
        var count = inputUntilNumberWithConditions(
            "Input the length of an array for generating random numbers",
            0, null, true, 1);
        var rndArray = [];
        for (var i = 0; i < count; i++) {
            rndArray.push(Math.floor(min + Math.random() * (max + 1 - min)));
        }
        alert("An array of " + count + " random numbers in the range [" + min + ", " + max + "]:\n"
            + rndArray.join(", "));
    };


    function fibSimple(n) {
        var a = 1,
            b = 0,
            x;
        for (i = 0; i < n; i++) {
            x = a + b;
            a = b;
            b = x;
        }
        return b;
    }

    function fibBinet(n) {
        var phi = (1 + Math.sqrt(5)) / 2;
        // alert(phi);
        return Math.round(Math.pow(phi, n) / Math.sqrt(5));
    }


</script>

</body>

</html>
